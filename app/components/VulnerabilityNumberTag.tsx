import Image from 'next/image';
import React from 'react';

type VulnerabilityNumberTagProps = {
  vulLevel: '1' | '2' | '3' | '4';
  subLevel?: '1' | '2' | 'None';
  className?: string;
  style?: React.CSSProperties;
};

export default function VulnerabilityNumberTag({
  vulLevel,
  subLevel = 'None',
  className = '',
  style
}: VulnerabilityNumberTagProps) {
  const getIconPath = () => {
    if (subLevel !== 'None') {
      return `/Assets/Icons/Vul. level=${vulLevel}, Sub-level=${subLevel}.png`;
    }
    return `/Assets/Icons/Vul. level=${vulLevel}, Sub-level=None.png`;
  };

  // Determine if this is a wide icon (3.1 or 3.2)
  const isWideIcon = subLevel !== 'None';
  const iconWidth = isWideIcon ? 32 : 24;

  return (
    <div
      className={`flex items-center justify-center rounded-xl ${className}`}
      style={{
        ...style,
        minWidth: isWideIcon ? '32px' : '24px',
        width: isWideIcon ? '32px' : '24px'
      }}
    >
      <Image
        src={getIconPath()}
        alt={`Vulnerability level ${vulLevel}${subLevel !== 'None' ? `.${subLevel}` : ''}`}
        width={iconWidth}
        height={24}
        className="object-contain"
      />
    </div>
  );
}
